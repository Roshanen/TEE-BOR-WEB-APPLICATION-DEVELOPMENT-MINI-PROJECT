@model WebApp.Models.User

<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/css/profile.css" />

    <style>
        .rating-popup {
            transform: translateY(-10vh);
            position: fixed;
            width: 100%;
            height: 110vh;
            z-index: 998;
            background-color: rgb(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
        }

        #close-button {
            background-color: rgb(0, 0, 0, 0);
            color: var(--red-search);
            font-weight: 600;
            font-size: large;
            border: none;
            align-self: flex-end;
        }

        .rating-popup form {
            display: flex;
            flex-direction: column;
            z-index: 999;
            width: 500px;
            height: 500px;
            background-color: white;
            border-radius: 20px;
            padding: 10px;
        }
    </style>

</head>

<body style="background-color: white">

    <div class="rating-popup" id="rating-popup">
        <form asp-controller="Edit" asp-action="ProfilePicture" method="post">
            <button type="button" id="close-button">close</button>
            
        </form>
    </div>

    <div class="sidebar">
        <a href="https://youtu.be/9MCiixIkzUk?si=GS2FAVwNzU8Nzr3q">Edit Profile</a>
        <a href="https://youtu.be/9MCiixIkzUk?si=GS2FAVwNzU8Nzr3q">Personal_Info</a>
        <a href="https://youtu.be/9MCiixIkzUk?si=GS2FAVwNzU8Nzr3q">Account_Management</a>
        <a href="https://youtu.be/9MCiixIkzUk?si=GS2FAVwNzU8Nzr3q">Email_Updates</a>
        <a href="https://youtu.be/9MCiixIkzUk?si=GS2FAVwNzU8Nzr3q">Privacy</a>
        <a href="https://youtu.be/9MCiixIkzUk?si=GS2FAVwNzU8Nzr3q">Social_Media</a>
        <a href="https://youtu.be/9MCiixIkzUk?si=GS2FAVwNzU8Nzr3q">Interests</a>
        <a href="https://youtu.be/9MCiixIkzUk?si=GS2FAVwNzU8Nzr3q">Mobile_Notification</a>
        <a href="https://youtu.be/9MCiixIkzUk?si=GS2FAVwNzU8Nzr3q">Organizer_Subscription</a>
        <a href="https://youtu.be/9MCiixIkzUk?si=GS2FAVwNzU8Nzr3q">Meetup+ Subscription</a>
        <a href="https://youtu.be/9MCiixIkzUk?si=GS2FAVwNzU8Nzr3q">Payment Methods</a>
        <a href="https://youtu.be/9MCiixIkzUk?si=GS2FAVwNzU8Nzr3q">Payment Made</a>
        <a href="https://youtu.be/9MCiixIkzUk?si=GS2FAVwNzU8Nzr3q">Payment Received</a>
        <a href="https://youtu.be/9MCiixIkzUk?si=GS2FAVwNzU8Nzr3q">Apps</a>
        <a href="https://youtu.be/9MCiixIkzUk?si=GS2FAVwNzU8Nzr3q">API Guide</a>
        <a href="https://youtu.be/9MCiixIkzUk?si=GS2FAVwNzU8Nzr3q">Help</a>
    </div>

    <div class="content">
        <h1 style="
          font-weight: 700;
          margin-left: 25px;
          margin-bottom: 0%;
          padding-bottom: 0%;
        ">
            Edit profile
        </h1>
        <p style="
          font-weight: 400;
          margin-left: 25px;
          margin-top: 10px;
          margin-bottom: 10px;
        ">
            This information will appear on your public profile
        </p>
        <form asp-action="Edit" asp-controller="Profile" method="post">
            @Html.AntiForgeryToken()
            <div class="row" style="
            justify-content: space-around;
            grid-template-columns: 1.8fr 3fr 3fr;
            width: 100%;
            ">
                <div class="column" style="margin-left: 15px; margin-right: 25px">
                    <div
                        class="flex w-full flex-col items-center space-x-0 space-y-3 md:flex-row md:space-x-6 md:space-y-0">
                        <div class="relative flex flex-col">
                            <svg role="presentation" viewBox="0 0 75 74" version="1.1" width="128" height="128"
                                class="min-w-[128px] rounded-full border border-gray2">
                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                    <g transform="translate(-750.000000, -109.000000)">
                                        <g
                                            transform="translate(787.926915, 146.475953) rotate(-120.000000) translate(-787.926915, -146.475953) translate(750.426915, 110.475953)">
                                            <g transform="translate(0.350000, 0.000000)">
                                                <path
                                                    d="M35.66773,0.88851 C16.15488,0.88851 0.33628,16.70676 0.33628,36.21961 C0.33628,55.73246 16.15488,71.55106 35.66773,71.55106 C55.18093,71.55106 70.99918,55.73246 70.99918,36.21961 C70.99918,16.70676 55.18093,0.88851 35.66773,0.88851 L35.66773,0.88851 Z"
                                                    fill="#F1A080"></path>
                                                <path
                                                    d="M38.117625,0.188335 C18.604775,0.188335 2.786525,16.006935 2.786525,35.519785 C2.786525,55.032635 18.604775,70.850885 38.117625,70.850885 C57.630825,70.850885 73.449075,55.032635 73.449075,35.519785 C73.449075,16.006935 57.630825,0.188335 38.117625,0.188335 Z"
                                                    stroke="#353E48" stroke-width="1.75" stroke-linecap="round"
                                                    stroke-linejoin="round"></path>
                                                <text id="initial-letter" class="select-none"
                                                    transform="rotate(120 38,36)" x="50%" y="50%" text-anchor="middle"
                                                    fill="#333E48" font-size="30px" dy=".3em">
                                                    K
                                                </text>
                                            </g>
                                        </g>
                                    </g>
                                </g>
                            </svg>
                        </div>
                    </div>
                </div>
                <div class="column" style="display: flex; justify-content: center; height: 13vh">
                    <button id="open-rating-popup-button" type="button" class="green-button">Upload New</button>
                </div>
                <div class="column" style="
                display: flex;
                justify-content: center;
                height: 13vh;
                justify-self: right;
            ">
                    <a href="#" class="white-button">Choose from library</a>
                </div>
            </div>
            <div class="row" style="grid-template-columns: auto">
                <div class="column" style="margin: 16px">
                    <label class="font-medium text-primary" for="custom-name"
                        style="font-weight: 500; font-weight: 16px">Name (required)</label>
                    <div class="input-container">
                        <input type="text" name="UserName" id="custom-name" autocomplete="given-name" maxlength="32"
                            placeholder="Your name" value="@Model.UserName" />
                        <span id="charCount">32</span>
                    </div>
                </div>
            </div>
            <div style="display: flex; flex-direction: column; gap: 0px">
                <div style="padding: 0px; margin: 16px">
                    <p style="
                margin: 0px;
                padding: 0px;
                padding-bottom: 6px;
                font-weight: 600;
                ">
                        Your Email Address
                    </p>
                    <p style="
                margin: 0px;
                padding: 0px;
                padding-bottom: 6px;
                color: #707070;
                ">
                        @Model.Email
                    </p>
                    <br />
                    <p style="margin: 0px; padding: 0px; font-weight: 500">
                        Edit Address
                    </p>
                    <div class="input-container">
                        <input type="text" name="Address" id="custom-name" autocomplete="given-name" maxlength="250"
                            placeholder="Your Address" value="@Model.Address" />
                        <span id="charCount"></span>
                    </div>
                </div>
            </div>
            <div class="row" style="grid-template-columns: auto">
                <div class="column" style="margin: 16px">
                    <label class="font-medium text-primary" for="custom-name"
                        style="font-weight: 500; font-weight: 16px">Bio</label>
                    <div class="input-container-bio">
                        <textarea type="text" name="Bio" id="custom-name-ta" autocomplete="given-name" maxlength="250"
                            placeholder="Write a little bit of yourself here"
                            style="text-align: left; line-break: auto; resize: none; height: 150px;">@Model.Bio</textarea>
                        <span id="charCount_textarea">250</span>
                    </div>
                </div>
            </div>
            <div class="row" style="grid-template-columns: auto">
                <div class="column" style="margin: 16px">
                    <label class="font-medium text-primary" for="custom-name"
                        style="font-weight: 500; font-weight: 16px">Social media</label>
                    <div class="input-container-social">
                        <textarea type="text" name="Contact" id="custom-name-ta" autocomplete="given-name"
                            maxlength="250" placeholder="Write a little bit of yourself here"
                            style="text-align: left; line-break: auto; resize: none; height: 100px;">@Model.Contact</textarea>
                        <span id="charCount"></span>
                    </div>
                </div>
            </div>
            <button type="submit" class="orange-button" style="margin: 15px;">Save Changes</button>
        </form>
    </div>
    </div>
    <script>
        let closeButton = document.getElementById("close-button");
        let ratingPopup = document.getElementById("rating-popup");
        closeButton.onclick = (e) => {
            ratingPopup.style.display = "none";
        }

        let openButton = document.getElementById("open-rating-popup-button");
        openButton.onclick = (e) => {
            ratingPopup.style.display = "flex";
        }

    </script>
    <script>
        const inputField = document.getElementById("custom-name");
        const charCount = document.getElementById("charCount");

        inputField.addEventListener("input", function () {
            const remainingChars = 32 - this.value.length;
            charCount.textContent = remainingChars;
        });

        const textareaField = document.getElementById("custom-name-ta");
        const charCount_textarea = document.getElementById("charCount_textarea");

        textareaField.addEventListener("input", function () {
            const remainingChars = 250 - this.value.length;
            charCount_textarea.textContent = remainingChars;
        });

        window.onload = function () {
            var userName = "@Model.UserName";
            document.getElementById('initial-letter').textContent = userName.charAt(0);
        };

    </script>
</body>

</html>
